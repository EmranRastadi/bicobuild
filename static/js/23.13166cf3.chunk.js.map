{"version":3,"sources":["services/Connection/Types.js","services/Connection/Request.js","entity/Redux/Auth/api.js","entity/Redux/Auth/ForgetPasswrod/Action.js","view/PageComponent/Auth/NewPass/View.js","view/PageComponent/Auth/NewPass/index.js"],"names":["REQUEST_URL","REQUEST_HEADER_TOKEN","GetToken","axiosRetry","axios","retries","retryDelay","exponentialDelay","request","create","baseURL","API","timeout","headers","RequestApi","SignIn","data","Request","post","SignUp","VerifyCode","ForgetPassword","NewPassword","UserFirstData","put","DoctorAdd","RePassword","JsonData","JSON","stringify","phoneNumber","dispatch","getState","a","then","response","type","error","SetNewPassword","password","SetPassword","memo","props","useDispatch","useEffect","repass","status","M","toast","html","setTimeout","window","location","pathname","console","log","useTranslation","t","i18n","className","id","name","onChange","e","preventDefault","localStorage","getItem","setItem","lan","$","is","lang","changeLanguage","style","right","src","marginTop","fontSize","marginBottom","hight","color","placeholder","autoComplete","required","onClick","fadeIn","fadeOut","newPass","val","connect","state","RePass"],"mappings":"+IAIaA,EAAW,UAFA,mCAEA,OADD,MAQVC,EAAuB,CAChC,eAAgB,mBAChB,cAAiB,UANIC,e,oCCHzBC,IACIC,IACA,CACIC,QDDmB,ECEnBC,WAAYH,IAAWI,mBAGxB,IAAMC,EAAUJ,IAAMK,OAAO,CAChCC,QAASC,EACTC,QDRmB,ICSnBC,QAASF,ICXAG,GDciBV,IAAMK,OAAO,CACvCC,QAASC,EACTC,QDdmB,ICenBC,QDZ0B,CAC1B,eAAgB,sBENM,CACtBE,OAAQ,SAACC,GAAD,OAAUC,EAAQC,KAAK,aAAeF,IAC9CG,OAAQ,SAACH,GAAD,OAAUC,EAAQC,KAAK,gBAAkBF,IACjDI,WAAa,SAACJ,GAAD,OAAUC,EAAQC,KAAK,wBAA0BF,IAC9DK,eAAiB,SAACL,GAAD,OAAUC,EAAQC,KAAK,qCAAuCF,IAC/EM,YAAc,SAACN,GAAD,OAAUC,EAAQC,KAAK,qBAAuBF,IAC5DO,cAAgB,SAACP,GAAD,OAAUC,EAAQO,IAAI,qBAAuBR,IAC7DS,UAAY,SAACT,GAAD,OAAUC,EAAQC,KAAK,UAAYF,O,oJCPtCU,EAAa,SAACV,GACvB,IAAMW,EAAWC,KAAKC,UAAU,CAC5BC,YAAad,EAAKc,cAGtB,8CAAO,WAAOC,EAAUC,GAAjB,SAAAC,EAAA,sEACGzB,IAAQa,eAAeM,GACxBO,MAAK,SAAAC,GACFJ,EAAS,CACLK,KAAO,aACPD,SAAWA,OAEf,SAAAE,GACAN,EAAS,CACLK,KAAO,YACPD,SAAW,iBAVpB,2CAAP,yDAgBSG,EAAiB,SAACtB,GAC3B,IAAMW,EAAWC,KAAKC,UAAU,CAC5BU,SAAWvB,IAEf,8CAAO,WAAOe,EAAWC,GAAlB,SAAAC,EAAA,sEACGzB,IAAQc,YAAYK,GACrBO,MAAK,SAAAC,GACNJ,EAAS,CACLI,SAASA,EACTC,KAAO,gBACT,SAAAC,GACEN,EAAS,CACLK,KAAO,iBACPD,SAAW,uBATpB,2CAAP,0D,wHCpBEK,EAAcC,gBAAK,SAACC,GAEtB,IAAMX,EAAWY,cACjBC,qBAAU,WACFF,EAAMG,SAE+B,MAAjCH,EAAMG,OAAOV,SAASW,QAEtBC,IAAEC,MAAM,CAACC,KAAO,2CAChBC,YAAW,WACPC,OAAOC,SAASC,SAAW,YAC3B,MAEJN,IAAEC,MAAM,CAACC,KAAO,4BAEpBK,QAAQC,IAAI,gBAAiBb,EAAMG,YAfX,MAoBdW,cAAXC,EApByB,EAoBzBA,EAAGC,EApBsB,EAoBtBA,KAkCUD,EAAE,iBACtB,OACI,sBAAKE,UAAU,YAAf,UACI,qBAAKC,GAAG,eAER,qBAAKD,UAAU,UAAf,SACI,sBAAKA,UAAU,MAAf,UACI,qBAAKA,UAAU,iBAGf,qBAAKA,UAAU,gBAAf,SACI,sBAAKC,GAAG,WAAR,UACI,sBAAKA,GAAG,gBAAR,UACI,uBAAOxB,KAAK,WAAWyB,KAAK,YAAYC,SA7BpE,SAAoBC,GAChBA,EAAEC,iBACGC,aAAaC,QAAQ,QACtBD,aAAaE,QAAQ,MAAO,MAEhC,IAAIC,EAAMH,aAAaC,QAAQ,OAChBG,IAAE,yBACJC,GAAG,aAAuB,OAARF,EAC3BH,aAAaE,QAAQ,MAAO,MAE5BF,aAAaE,QAAQ,MAAO,MAEhC,IAAII,EAAON,aAAaC,QAAQ,OAChCR,EAAKc,eAAeD,IAgBkEX,GAAG,sBACjE,+BAAOH,EAAE,eAGb,qBAAKE,UAAS,gBAAd,SACI,qBAAKC,GAAE,eAAP,SACI,mBAAGD,UAAU,iBAAb,gCAGR,qBAAKA,UAAS,gBAAmBc,MAAO,CAACC,MAAO,GAAhD,SACI,qBAAKd,GAAE,iBAAP,SACI,qBAAKe,IAAI,+BAGjB,qBAAKhB,UAAU,YAAf,SACI,sBAAKA,UAAU,MAAf,UAEI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,sBAAsBc,MAAO,CAACG,UAAW,IAAxD,UACI,mBAAGhB,GAAG,WAAN,SAAkBH,EAAE,kBACpB,mBAAGG,GAAG,WAAWa,MAAO,CACpBI,SAAU,OACVD,UAAW,kBACXE,aAAc,mBAHlB,oBAKA,mBAAGlB,GAAG,WAAN,SAAkBH,EAAE,oBAI5B,sBAAKE,UAAU,qBAAqBC,GAAG,eAAea,MAAO,CAACM,MAAO,QAArE,UAGI,qBAAKnB,GAAG,eAAR,SAGI,qBAAKD,UAAU,+BAA+BC,GAAG,mBAAjD,SACI,sBAAKD,UAAU,kCAAf,UACI,qBAAKA,UAAU,sBAAf,SACI,qBAAKA,UAAU,aAEnB,qBAAKA,UAAU,YAAf,SACI,qBAAKA,UAAU,aAEnB,qBAAKA,UAAU,uBAAf,SACI,qBAAKA,UAAU,oBAO/B,qBAAKA,UAAU,YAAf,SACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,UAAf,UACI,qBAAKA,UAAU,QAGf,sBAAKA,UAAU,sBAAsBc,MAAO,CAACG,UAAW,GAAxD,UACI,oBAAGH,MAAO,CAACO,MAAO,QAAlB,qBAAwCvB,EAAE,gBAC1C,qBAAKG,GAAG,aAAR,SACI,uBAAOqB,YAAaxB,EAAE,kBAAmBI,KAAK,UACvCqB,aAAa,QACbC,UAAQ,EAAC/C,KAAK,WAAWuB,UAAU,eAE9C,oBAAGC,GAAG,UAAN,qBAA6BH,EAAE,sBAMnC,sBAAKE,UAAU,sBAAsBc,MAAO,CAACG,UAAW,GAAxD,UACI,oBAAGH,MAAO,CAACO,MAAO,QAAlB,qBAAwCvB,EAAE,mBAC1C,qBAAKG,GAAG,aAAR,SACI,uBAAOqB,YAAaxB,EAAE,cAAeI,KAAK,QACnCqB,aAAa,QACbC,UAAQ,EAAC/C,KAAK,WAAWuB,UAAU,eAE9C,oBAAGC,GAAG,UAAN,qBAA6BH,EAAE,sBAKnC,qBAAKE,UAAS,SAAYc,MAAO,CAACK,aAAe,IAAjD,SAEI,mBAAGnB,UAAU,iCACVyB,QAlIvD,WACIf,IAAE,iBAAiBgB,SACnBnC,YAAW,WACPmB,IAAE,iBAAiBiB,UAERrB,aAAaC,QAAQ,OAAhC,IACIqB,EAAUlB,IAAE,uBAAuBmB,MAEnCD,GADQlB,IAAE,qBAAqBmB,MAE/BzD,EAASO,YAAeiD,IAExBxC,IAAEC,MAAM,CAACC,KAAM,kCAEpB,MAsHgDW,GAAG,kBAFN,SAEyBH,EAAE,kCAiB/D,qBAAKE,UAAU,4BAgBpB8B,eAJS,SAACC,GACrB,MAAO,CAAC7C,OAAQ6C,EAAMC,UAGc,CAACrD,oBAA1BmD,CAA2CjD,GChM3CC,0BAAK,WAChB,OACI,cAAC,EAAD","file":"static/js/23.13166cf3.chunk.js","sourcesContent":["import {GetToken} from \"../Authentication\";\r\n\r\nexport const BASE_URL = \"http://188.34.138.109:8000/api/\";\r\nexport const VERSION = \"v1\";\r\nexport const REQUEST_URL = `${BASE_URL}${VERSION}`;\r\nexport const TIMEOUT = 60000;\r\nexport const RETRY_COUNT = 3;\r\nexport const JWT_TOKEN = GetToken();\r\nexport const REQUEST_HEADER = {\r\n    'Content-Type': 'application/json'\r\n}\r\nexport const REQUEST_HEADER_TOKEN = {\r\n    'Content-Type': 'application/json',\r\n    'Authorization': \"Bearer \" + JWT_TOKEN\r\n}","import * as API from './Types';\r\nimport axios from \"axios\";\r\nimport axiosRetry from \"axios-retry\";\r\n\r\naxiosRetry(\r\n    axios,\r\n    {\r\n        retries: API.RETRY_COUNT,\r\n        retryDelay: axiosRetry.exponentialDelay\r\n    }\r\n);\r\nexport const request = axios.create({\r\n    baseURL: API.REQUEST_URL,\r\n    timeout: API.TIMEOUT,\r\n    headers: API.REQUEST_HEADER_TOKEN\r\n});\r\n\r\nexport const request_global = axios.create({\r\n    baseURL: API.REQUEST_URL,\r\n    timeout: API.TIMEOUT,\r\n    headers: API.REQUEST_HEADER\r\n});","import { request as Request  , request_global as GlobalReq} from \"../../../services/Connection/Request\";\nimport { Path as Api } from \"./Types\";\n\nexport const RequestApi = {\n    SignIn: (data) => Request.post(\"auth/login\" , data ),\n    SignUp: (data) => Request.post(\"auth/register\" , data),\n    VerifyCode : (data) => Request.post(\"auth/verifyActiveCode\" , data),\n    ForgetPassword : (data) => Request.post(\"auth/forgotPassword/sendActiveCode\" , data),\n    NewPassword : (data) => Request.post(\"auth/resetPassword\" , data),\n    UserFirstData : (data) => Request.put(\"auth/updateDetails\" , data),\n    DoctorAdd : (data) => Request.post(\"doctors\" , data),\n}","import React, {memo} from 'react';\nimport {RequestApi as request} from \"../api\";\n\nexport const RePassword = (data) => {\n    const JsonData = JSON.stringify({\n        phoneNumber: data.phoneNumber,\n    });\n\n    return async (dispatch, getState) => {\n        await request.ForgetPassword(JsonData)\n            .then(response => {\n                dispatch({\n                    type : 'RE_PASS_OK',\n                    response : response\n                })\n            } , error => {\n                dispatch({\n                    type : 'NOT_FOUND',\n                    response : 'not found'\n                })\n            })\n    }\n}\n\nexport const SetNewPassword = (data) => {\n    const JsonData = JSON.stringify({\n        password : data\n    });\n    return async (dispatch , getState) =>{\n        await request.NewPassword(JsonData)\n            .then(response => {\n            dispatch({\n                response:response,\n                type : 'NEW_PASS_OK'\n            },error => {\n                dispatch({\n                    type : 'NEW_PASS_ERROR',\n                    response : 'server error'\n                })\n            })\n        })\n    }\n}","import React, {memo, useEffect} from 'react';\nimport {Redirect, NavLink} from \"react-router-dom\";\nimport {useTranslation} from \"react-i18next\";\nimport M from 'materialize-css';\nimport {SetNewPassword} from \"../../../../entity/Redux/Auth/ForgetPasswrod/Action\";\nimport $ from 'jquery';\nimport {connect, useDispatch} from \"react-redux\";\n\nconst SetPassword = memo((props) => {\n\n    const dispatch = useDispatch();\n    useEffect(() => {\n        if (props.repass) {\n\n            if (props.repass.response.status === 200)\n            {\n                M.toast({html : 'please wait for redirect to signin ...'})\n                setTimeout(()=>{\n                    window.location.pathname = \"/signin\"\n                } , 2000)\n            }else{\n                M.toast({html : 'change password failed!'})\n            }\n            console.log(\"repass new : \", props.repass);\n        }\n    })\n\n\n    const {t, i18n} = useTranslation();\n\n    function verify_code() {\n        $(\"#loading_back\").fadeIn()\n        setTimeout(function () {\n            $(\"#loading_back\").fadeOut();\n            // props.history.push('/doctor');\n            var type = localStorage.getItem(\"rol\");\n            var newPass = $(\"input[name=newPass]\").val();\n            var reNew = $(\"input[name=reNew]\").val();\n            if (newPass == reNew) {\n                dispatch(SetNewPassword(newPass));\n            } else {\n                M.toast({html: 'Passwords are not the same!'})\n            }\n        }, 3000);\n    }\n\n    function handleLang(e) {\n        e.preventDefault();\n        if (!localStorage.getItem(\"lan\")) {\n            localStorage.setItem(\"lan\", 'en');\n        }\n        var lan = localStorage.getItem(\"lan\");\n        var ckeckbox = $(\"input[name=cahngelan]\");\n        if (ckeckbox.is(\":checked\") && lan === 'en') {\n            localStorage.setItem(\"lan\", 'ch');\n        } else {\n            localStorage.setItem(\"lan\", 'en');\n        }\n        let lang = localStorage.getItem('lan');\n        i18n.changeLanguage(lang);\n    }\n\n    const select_type = t('select-type.l');\n    return (\n        <div className=\"auth_back\">\n            <div id=\"back_shado\"></div>\n\n            <div className=\"col s12\">\n                <div className=\"row\">\n                    <div className=\"col l2 m2 s1\">\n\n                    </div>\n                    <div className=\"col l8 m8 s10\">\n                        <div id=\"auth_box\">\n                            <div id=\"change_or_sub\">\n                                <input type=\"checkbox\" name=\"cahngelan\" onChange={handleLang} id=\"change_lang_login\"/>\n                                <span>{t('Lang.l')}</span>\n                                {/*<span></span>*/}\n                            </div>\n                            <div className={`mini_box_over`}>\n                                <div id={`mini_circule`}>\n                                    <i className=\"material-icons\">person_outline</i>\n                                </div>\n                            </div>\n                            <div className={`mini_box_over`} style={{right: 0}}>\n                                <div id={`mini_circule_r`}>\n                                    <img src=\"/img/icons/doctorB.png\"/>\n                                </div>\n                            </div>\n                            <div className=\"container\">\n                                <div className=\"row\">\n\n                                    <div className=\"row\">\n                                        <div className=\"input-field col s12\" style={{marginTop: 55}}>\n                                            <p id=\"text_sub\">{t('Welcome-to.l')}</p>\n                                            <p id=\"text_sub\" style={{\n                                                fontSize: \"40px\",\n                                                marginTop: \"15px !important\",\n                                                marginBottom: \"15px !important\"\n                                            }}>Bi Con</p>\n                                            <p id=\"text_sub\">{t('NewPass.l')}</p>\n                                        </div>\n                                    </div>\n\n                                    <div className=\"register_type_user\" id=\"verifyBorder\" style={{hight: \"auto\"}}>\n\n\n                                        <div id=\"loading_back\">\n\n\n                                            <div className=\"preloader-wrapper big active\" id=\"loading_progress\">\n                                                <div className=\"spinner-layer spinner-blue-only\">\n                                                    <div className=\"circle-clipper left\">\n                                                        <div className=\"circle\"></div>\n                                                    </div>\n                                                    <div className=\"gap-patch\">\n                                                        <div className=\"circle\"></div>\n                                                    </div>\n                                                    <div className=\"circle-clipper right\">\n                                                        <div className=\"circle\"></div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n\n\n                                        <div className=\"container\">\n                                            <div className=\"row\">\n                                                <div className=\"col s12\">\n                                                    <div className=\"row\">\n\n                                                    </div>\n                                                    <div className=\"input-field col s12\" style={{marginTop: 0}}>\n                                                        <p style={{color: '#ccc'}}>&nbsp;&nbsp;{t('NewPass.l')}</p>\n                                                        <div id=\"input_back\">\n                                                            <input placeholder={t('NewPassWrite.l')} name=\"newPass\"\n                                                                   autoComplete=\"false\"\n                                                                   required type=\"password\" className=\"validate\"/>\n                                                        </div>\n                                                        <p id=\"alert-p\">&nbsp;&nbsp;{t('must-field.l')}</p>\n\n                                                        {/*<label htmlFor=\"password\">Password</label>*/}\n                                                    </div>\n\n\n                                                    <div className=\"input-field col s12\" style={{marginTop: 0}}>\n                                                        <p style={{color: '#ccc'}}>&nbsp;&nbsp;{t('RNewPasses.l')}</p>\n                                                        <div id=\"input_back\">\n                                                            <input placeholder={t('RNewPass.l')} name=\"reNew\"\n                                                                   autoComplete=\"false\"\n                                                                   required type=\"password\" className=\"validate\"/>\n                                                        </div>\n                                                        <p id=\"alert-p\">&nbsp;&nbsp;{t('must-field.l')}</p>\n\n                                                        {/*<label htmlFor=\"password\">Password</label>*/}\n                                                    </div>\n\n                                                    <div className={`col s6`} style={{marginBottom : 20}}>\n                                                        {/*<Link to=\"/login/verify\">*/}\n                                                        <a className=\"btn blue darken-4 waves-effect\"\n                                                           onClick={verify_code}\n                                                           id=\"check_phone_num\">{t('Save.l')}</a>\n                                                        {/*</Link>*/}\n                                                    </div>\n                                                </div>\n\n                                            </div>\n                                        </div>\n\n\n                                    </div>\n                                </div>\n                            </div>\n\n                        </div>\n\n\n                    </div>\n                    <div className=\"col l2 m2 s1\">\n\n                    </div>\n                </div>\n\n            </div>\n\n\n        </div>\n    );\n})\n\nconst mapStateToProps = (state) => {\n    return {repass: state.RePass}\n}\n\nexport default connect(mapStateToProps, {SetNewPassword})(SetPassword);","import React , {memo} from 'react';\nimport NewPass from './View';\nexport default memo(()=>{\n    return (\n        <NewPass></NewPass>\n    )\n})"],"sourceRoot":""}